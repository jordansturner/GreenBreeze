<!DOCTYPE html>
<html>
<head>
	<title></title>
	<link rel="stylesheet" type="text/css" href="MainPageStyles.css">
	<link href="https://fonts.googleapis.com/css?family=Montserrat:300i,300,400,500,600,700|Open+Sans:300,400,400i" rel="stylesheet">
	<script src="https://code.jquery.com/jquery-1.10.2.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/skrollr/0.6.30/skrollr.min.js"></script>
	<!--font-family: 'Open Sans', sans-serif;
		font-family: 'Montserrat', sans-serif; -->
</head>
<body id = "Page">
	<div class="sections" id="slide-1">
		<div id="FutureOfAgro3">
			<h3>The Future of Agriculture</h3>
			<h6>Slide to uncover a future with <i>Green Breeze</i>. </br> Hover over facts to learn more about each feature.</h6>
		</div>
		<!-- <div id="LoadingMap">
			<img id="FutureMap" src="Assets/Asset_1.png" alt="Future_Farm">
		</div> -->
		
		<!-- <hgroup class="speech-bubble" id="secondBubble">
							<p class="titleInfo">Limited Growing Distributions</p>
							<p class="titleBody">California grows: 90% of all US Tomatoes, 95% of all US Broccoli, 
	      					74% of all US Lettuce, 99% of all almonds, walnuts, and pistachios.</p>
		</hgroup> -->
		<!-- <hgroup class="speech-bubble" id="thirdBubble">
							<p class="titleInfo">Limited Growing Distributions</p>
							<p class="titleBody">California grows: 90% of all US Tomatoes, 95% of all US Broccoli, 
	      					74% of all US Lettuce, 99% of all almonds, walnuts, and pistachios.</p>
		</hgroup> -->
	<div class="splitview3">
		        <div class="panel2 Mapbottom2">
		        	<div class="content">
		        		<img id="FutureMap2" src="Assets/Asset_1.png" alt="Future_Farm">

		        	</div>
		        </div>
		        <div class="panel2 Maptop2">
		        	<div class="content">
		        		<img id="CurrentMap2" src="Assets/Asset_2.png" alt="Current_Farm">
		        		<div id="factsbuttons">
			        		<img id="FirstFact" class="factbutton" src="Assets/info_button.png" alt="info_button">
			        		<img id="SecondFact" class="factbutton" src="Assets/info_button.png" alt="info_button">
			        		<img id="ThirdFact" class="factbutton" src="Assets/info_button.png" alt="info_button">
			        		<img id="FourthFact" class="factbutton" src="Assets/info_button.png" alt="info_button">
			        		<img id="FifthFact" class="factbutton" src="Assets/info_button.png" alt="info_button">
			        		<img id="SixthFact" class="factbutton" src="Assets/info_button.png" alt="info_button">
			        		<img id="SeventhFact" class="factbutton" src="Assets/info_button.png" alt="info_button">
			        		<img id="EighthFact" class="factbutton" src="Assets/info_button.png" alt="info_button">
			        		<img id="NinthFact" class="factbutton" src="Assets/info_button.png" alt="info_button">
			        		<img id="TenthFact" class="factbutton" src="Assets/info_button.png" alt="info_button">
			        		<img id="EleventhFact" class="factbutton" src="Assets/info_button.png" alt="info_button">

		        		</div>
		        		
		        	</div>
		         	
		        </div>

		        	<img class="handle2" src="Assets/Slider.png" alt="slider"> 
		        	<div id="topbarhandle2"></div>
		        	<div id="bottombarhandle2"></div>
			
		</div>

		<div id="HighLevelNavigation3">
		    <a href="GardenBuilderIntroductionPage.html" data-text="GARDEN BUILDER">GARDEN BUILDER</a>
		    <a href="MissionStatement.html " data-text="OUR MISSION">OUR MISSION</a>
		    <a href="MainHomePage2.html" data-text="HERBAN LOGO" id="HerbanLogo"></a>
		    <a href="____" data-text="FURTHER READINGS">FURTHER READINGS</a>
		    <a href="_____" data-text="THE COMMUNITY" >THE COMMUNITY</a>
		</div> 

	</div>
	<div class="sections" id="slide-2">
		<div id="IntroHeaderWrapper">
			<h6>HOME</h6>
			<h3> Introduction</h3>
			<div id="secondaryHeaderText">Discover the many crop possibilities to choose from as </br>one of our <i>Garden Estate Customers</i>.</div>
		</div>
		
	</div>
	<div class="sections" id="slide-3">
		
			<img id="ChooseGardenIllustration" src="Assets/PNG_72ppi/Introduction_Choose_Garden.png">
			
			<div id="ChooseAGardenWrapper">
				<h3>Choose a garden type from our <b>Growers collection</b></h3>
				<h5>Each piece of our gardening system has been carefully </br> crafted and curated for your convenience.</h5>
			</div>
			<img id="CustomizeGardenIllustration" src="Assets/PNG_72ppi/Introduction_Customize_Garden.png">
			<div id="CustomizeDetailsWrapper">
				<h3>Personalization is</br>in the details</h3>
				<h5>As one of our valued experience growers</br>you will get to customize your garden choices.</h5>
			</div>
			<img id="JoinCommunityIllustration" src="Assets/PNG_72ppi/Introduction_Join_Community.png">
			<div id="JoinCommunityWrapper">
				<h3>Community is the most powerful catalyst of change</h3>
				<h5>Once you have finalized your garden you will have the opportunity to spread awareness on social media and take a tour of our other customer gardens</h5>
			</div>

			<a href="GardenBuilder_GrowingPriorities.html"><button id="EnterGardenBuilder">
				Start Building
			</button></a>
	</div>
	<!-- <div id="infoWrapper">
		<div id="FactWrapper">
			<div id="buttonicon">
				
			</div>
			<div id="facts">
				<h4>Welcome to the Exhibition</h4>
				<p id="BlueNodeTextBlurb"> Select a blue node and discover the world from our point of view.</p>
			</div>
		</div>
	</div> -->
	<script type="text/javascript">

	
// 	$(document).ready(function () {
// 		var hoverClick = $('#EntryButtonImg');
// 		var rightLine = $('#RightLine');
// 		var leftLine = $('#LeftLine');
// 		var RightLineWidth = $('#RightLine').css('width');

//     	if (RightLineWidth == '30px'){
// 		alert("runScript");
// 	};
// });

			// var RightLineWidth = $('#RightLine').css('width');


		  // document.addEventListener('DOMContentLoaded', function() {
				//     var parent = document.querySelector('.splitview'),
				//         topPanel = parent.querySelector('.Maptop'),
				//         handle = parent.querySelector('#handle'),
				//         clickHack = 0,
				//         delta = 0;

				//     // If the parent has .skewed class, set the skewHack var.
				//     if (parent.className.indexOf('.clicked') != -1) {
				//         clickHack = 1000;
				//     }

				//     parent.addEventListener('mousemove', function(event) {
				//         // Get the delta between the mouse position and center point.
				//         delta = (event.clientX - window.innerWidth / 2) * 0.5;

				//         // Move the handle.
				//         handle.style.left = event.clientX + delta + 'px';

				//         // Adjust the top panel width.
				//         topPanel.style.width = event.clientX + clickHack + delta + 'px';
				//     });
				// });

		  // document.addEventListener('DOMContentLoaded', function(){
		  // 		let wrapper = document.getElementbyId('splitview2');
		  // 		let toplayer = wrapper.querySelector('.clicked2 .Maptop2');
		  // 		let handle = wrapper.querySelector('#handle');
		  // 		let straight = 0;
		  // 		let delta = 0;

		  // 		if(wrapper.className.indexOf('.clicked2') != -1){
		  // 			clicked = 1000;
		  // 		}

		  // 		wrapper.addEventListener('mousemove', function(e){
		  // 			delta = (e.clientX - window.innerWidth / 2) * 0.5;
		  // 			handle.style.left = e.clientX + delta + 'px';
		  // 			topLayer.style.width = e.clientX + clicked + delta + 'px';
		  // 		});
		  // });

$('.factbutton').on('dragstart', function(event) { event.preventDefault(); });

$(function(){

		var dragging = false;
		var iX;
		$(".handle2").mousedown(function(e) {
			dragging = true;
			iX = e.clientX - this.offsetLeft;
			this.setCapture && this.setCapture();
			return false;
		});
		document.onmousemove = function(e) {
			if (dragging) {
				var e = e || window.event;
				var oX = e.clientX - iX;
				$(".handle2").css({"left":oX + "px"});
				$(".Maptop2").css({"width":oX - 273 + "px"});
				$("#topbarhandle2").css({"left":oX + 15 + "px"});
				$("#bottombarhandle2").css({"left":oX + 15 + "px"});
				return false;
			}
		};
		$(document).mouseup(function(e) {
			dragging = false;
			// $(".handle")[0].releaseCapture();
			// $(".Maptop")[0].releaseCapture();
			// $("#topbarhandle")[0].releaseCapture();
			e.cancelBubble = true;
		})
	});


	// $("#SecondFact").mousedown(function() {
	// 		$("#secondBubble").css("opacity", "1");
	// 	});
	// $("#SecondFact").mouseup(function() {
	// 		$("#secondBubble").css("opacity", "0");
	// 	});
$(function(){
	
	var firstBubble = $( "<hgroup class='speech-bubble' id='firstBubble'><p class='titleInfo'>Scale of Modern US Farming Operations</p><p class='titleBody'>Agriculture is an important sector of the U.S economy contributing about $300 billion per year.</p></hgroup>" );

	$("#FirstFact").mousedown(function() {

			$("#Page").append(firstBubble);

			if($("#firstBubble").css("opacity") == 0) {
			    $("#firstBubble").css("opacity", "1");
			};
		});

	$("#FirstFact").mouseup(function() {

			if($("#firstBubble").css("opacity") == 1) {
			    $("#firstBubble").css("opacity", "0");
			};

			firstBubble.remove();
		});
	
	var secondBubble = $( "<hgroup class='speech-bubble' id='secondBubble'><p class='titleInfo'>Growing Produce in Soil Requires Tons of Water</p><p class='titleBody'>It takes about 5 gallons of water to grow a single head of lettuce</p></hgroup>" );

	$("#SecondFact").mousedown(function() {

			$("#Page").append(secondBubble);

			if($("#secondBubble").css("opacity") == 0) {
			    $("#secondBubble").css("opacity", "1");
			};
		});

	$("#SecondFact").mouseup(function() {

			if($("#secondBubble").css("opacity") == 1) {
			    $("#secondBubble").css("opacity", "0");
			};

			secondBubble.remove();
		});

	var thirdBubble = $( "<hgroup class='speech-bubble' id='thirdBubble'><p class='titleInfo'>Limited Growing Distributions</p><p class='titleBody'>California grows: 90% of all US Tomatoes, 95% of all US Broccoli, 74% of all US Lettuce, 99% of all almonds, walnuts, and pistachios.</p></hgroup>" );

	$("#ThirdFact").mousedown(function() {

			$("#Page").append(thirdBubble);

			if($("#thirdBubble").css("opacity") == 0) {
			    $("#thirdBubble").css("opacity", "1");
			};
		});

	$("#ThirdFact").mouseup(function() {

			if($("#thirdBubble").css("opacity") == 1) {
			    $("#thirdBubble").css("opacity", "0");
			};

			thirdBubble.remove();
		});

	var fourthBubble = $( "<hgroup class='speech-bubble' id='fourthBubble'><p class='titleInfo'>Agricultural Waste</p><p class='titleBody'>Traditional farming practices in California use about 80% of the state's 'developed water.'</p></hgroup>" );

	$("#FourthFact").mousedown(function() {

			$("#Page").append(fourthBubble);

			if($("#fourthBubble").css("opacity") == 0) {
			    $("#fourthBubble").css("opacity", "1");
			};
		});

	$("#FourthFact").mouseup(function() {

			if($("#fourthBubble").css("opacity") == 1) {
			    $("#fourthBubble").css("opacity", "0");
			};

			fourthBubble.remove();
		});
		  

	});

var autoScrolling = false;
function autoScroll(dir) {
  console.log("scrolling", autoScrolling);
  var msg, fromTop = $(this).scrollTop(), 
      cur = null, next, animate = false;
      $scrollItems = $('.sections'),
      offsetTolerance = 2;
  var pageMaxPosition = $scrollItems.length;
  if (!autoScrolling) { 
    autoScrolling = true;
   $scrollItems.each( function( index, elem ) {
     msg = "top: " + $(elem).offset().top + " < " + (fromTop + offsetTolerance);
     console.log(msg);
     if ($(elem).offset().top < fromTop + offsetTolerance) {
       cur = $(elem).attr('id');
       cur = parseInt(cur.split('-')[1]);
     }
   });
    console.log(dir);
     if (cur !== null) {
       if (dir == 'down' && cur < pageMaxPosition) {
         next = cur + 1;
         animate = true;
         $("#HighLevelNavigation3").css("top", "737px");
         $("#HighLevelNavigation3").css("box-shadow", "0px 1px 10px #DFEAEF");
         
       } else if (dir == 'up' && cur != 3) {
         next = cur - 1;
         animate = true;
          $("#HighLevelNavigation3").css("top", "");
          $("#HighLevelNavigation3").css("box-shadow", "");

       }
     } 
    console.log("cur: " + cur + ' next: ' + next);
     if (animate) {
       console.log('animating to: ' + next);
       $('html, body').stop().animate({
         scrollTop: $('#slide-' + next).offset().top
          }, 1200, function() {
          console.log("complete");
          //animation complete;
           setTimeout( function(){
             autoScrolling = false;
           }, 1000)
         
        });
     } else {
       autoScrolling = false;
     }
  
  };
}

var bindScroll = function(){
  // Bind to scroll
  var lastScrollTop = 0;

  $(window).scroll( function(event) {
    var st = $(this).scrollTop();
    //console.log(st);
    if (st > lastScrollTop) {
      //downscroll
      autoScroll('down');
    } else {
      //upscroll
      autoScroll('up');
    }
    lastScrollTop = st;
  });
};



$('document').ready(function(){
  skrollr.init({
    smoothScrolling: true,
    forceHeight: true
  }); 
  bindScroll();
});

	</script>
</body>
</html>